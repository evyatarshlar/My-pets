import{a as M}from"./chunk-REFRHL33.js";import{c as L}from"./chunk-7FJHWQOL.js";import{d as f,o as y,q as F}from"./chunk-I4ERTK6J.js";import{Db as c,Fb as T,Ha as s,Jb as w,Sa as x,Xa as a,Ya as P,_ as r,bb as S,cb as C,fa as _,ga as u,gb as g,ka as h,lb as E,ob as n,pb as o,qb as d,rb as D,vb as I,wb as v}from"./chunk-OYHVDZPP.js";var R=()=>[import("./chunk-6YGXF5KS.js").then(e=>e.PetFilterComponent),import("./chunk-IZHKHMBE.js").then(e=>e.EvStopDirective),F,import("./chunk-RAPBMC66.js").then(e=>e.PetListComponent)];function b(e,l){if(e&1){let i=D();d(0,"pet-filter"),n(1,"a",3,0),c(3,"Add Pet"),o(),n(4,"pet-list",4),I("remove",function(m){_(i);let p=v();return u(p.onRemovePet(m))}),o()}if(e&2){let i=v();s(4),g("pets",i.pets_())}}function j(e,l){e&1&&(n(0,"h1",5),c(1,"Loading..."),o())}function k(e,l){e&1&&(n(0,"h2"),c(1),o()),e&2&&(s(),T("Cannot Remove!!!, ",l,""))}var G=(()=>{class e{constructor(){this.injector=r(h),this.msgService=r(M),this.petService=r(L),this.pets_=this.petService.pets_,this.removeError_=this.petService.removeError_,this.datePipe=r(f)}onRemovePet(i){this.petService.remove(i).subscribe({next:t=>{this.msgService.setSuccessMsg("Pet removed successfully "+this.datePipe.transform(Date.now(),"shortTime"))},error:t=>{console.log("error while removing pet:",t),this.msgService.setErrorMsg("Failed to remove pet")}})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=x({type:e,selectors:[["pet-index"]],features:[w([f])],decls:7,vars:2,consts:[["editLink",""],[2e3],[1,"pet-index"],["evStop","","routerLink","/pets/edit"],[3,"remove","pets"],[1,"fixed-center","loader"]],template:function(t,m){if(t&1&&(n(0,"section",2),a(1,b,5,1)(2,j,2,0),S(3,1,R,null,2,null,null,1,P),a(5,k,2,1,"h2"),o(),d(6,"router-outlet")),t&2){let p;s(3),C(m.pets_()),s(2),E((p=m.removeError_())?5:-1,p)}},dependencies:[y],encapsulation:2})}}return e})();export{G as PetIndexComponent};
