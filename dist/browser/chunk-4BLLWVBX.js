import{a as Y}from"./chunk-45VTBI6U.js";import{a as W,b as F,c as z,d as L,e as R,f as j,g as H,h as I}from"./chunk-SYWNLXN7.js";import{c as T}from"./chunk-7FJHWQOL.js";import{d as V,n as B,p as N,q as A}from"./chunk-I4ERTK6J.js";import{Db as r,Fb as S,Gb as h,Ha as p,Hb as _,Ib as M,Mb as k,Ob as v,Sa as w,Yb as D,Zb as E,_ as m,a as f,b,fa as s,ga as l,gb as y,ob as e,pb as n,rb as O,s as x,ua as P,vb as u,z as C}from"./chunk-OYHVDZPP.js";var te=(()=>{class c{constructor(){this.petService=m(T),this.route=m(B),this.router=m(N),this.x=D(()=>{console.log("this.pet():",this.pet())}),this.pet=P(this.petService.getEmptyPet()),this.petAge=E(()=>new Date().getFullYear()-new Date(this.pet().birthDate).getFullYear()),this.onBack=()=>{this.router.navigateByUrl("/pets")}}ngOnInit(){this.route.data.pipe(x(i=>i.pet),C(i=>!!i)).subscribe(this.pet.set)}onSavePet(){this.pet.update(i=>b(f({},i),{age:this.petAge()})),this.petService.save(this.pet()).subscribe(this.onBack)}onHandleBirthDate(i){this.pet.update(a=>b(f({},a),{birthDate:new Date(i).getTime()}))}static{this.\u0275fac=function(a){return new(a||c)}}static{this.\u0275cmp=w({type:c,selectors:[["pet-edit"]],decls:20,vars:7,consts:[["name","ngModel"],[1,"pet-edit",3,"clickOutside"],[3,"ngSubmit"],["for","name"],["type","text","name","name","id","name",3,"ngModelChange","ngModel"],["for","age"],["type","number","name","age","id","age",3,"ngModelChange","ngModel"],["for","birthDate"],["type","date","name","birthDate","id","birthDate",3,"ngModelChange","ngModel"],[1,"btns"],[1,"btn"],["routerLink","/pets","type","button",1,"btn-regular"]],template:function(a,t){if(a&1){let d=O();e(0,"section",1),u("clickOutside",function(){return s(d),l(t.onBack())}),e(1,"h2"),r(2),n(),e(3,"form",2),u("ngSubmit",function(){return s(d),l(t.onSavePet())}),e(4,"label",3),r(5,"Name"),n(),e(6,"input",4,0),M("ngModelChange",function(o){return s(d),_(t.pet().name,o)||(t.pet().name=o),l(o)}),n(),e(8,"label",5),r(9,"Age"),n(),e(10,"input",6),M("ngModelChange",function(o){return s(d),_(t.pet().age,o)||(t.pet().age=o),l(o)}),n(),e(11,"label",7),r(12,"Birth Date"),n(),e(13,"input",8),k(14,"date"),u("ngModelChange",function(o){return s(d),l(t.onHandleBirthDate(o))}),n(),e(15,"section",9)(16,"button",10),r(17,"Save"),n(),e(18,"button",11),r(19,"Back"),n()()()()}a&2&&(p(2),S("","Add"," pet"),p(4),h("ngModel",t.pet().name),p(4),h("ngModel",t.pet().age),p(3),y("ngModel",v(14,4,t.pet().birthDate,"yyyy-MM-dd")))},dependencies:[I,j,W,H,F,z,R,L,A,V,Y],styles:[".pet-edit[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;height:400px;aspect-ratio:1;position:fixed;inset:-10% 0 0;margin:auto;box-shadow:0 0 0 100vmax #00000080,-3px 1px 28px #00000043;padding:50px;background-color:#ecefec;border:solid 3px hsl(230,100%,85%);border-radius:10px}.pet-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:70%}.pet-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1em}.pet-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{display:flex;margin-top:3em;justify-content:center;gap:20px}.pet-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:3px 15px;border-radius:4px}.pet-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#4d6aff}.pet-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#5773ff}.btn[_ngcontent-%COMP%]{align-items:center;appearance:button;background-color:#0276ff;border-radius:8px;border-style:none;box-shadow:#ffffff42 0 1px 2px inset;box-sizing:border-box;color:#fff;cursor:pointer;display:flex;flex-direction:row;flex-shrink:0;font-family:RM Neue,sans-serif;font-size:100%;line-height:1.15;margin:0;padding:10px 21px;text-align:center;text-transform:none;transition:color .13s ease-in-out,background .13s ease-in-out,opacity .13s ease-in-out,transform .1s,box-shadow .13s ease-in-out;user-select:none;-webkit-user-select:none;touch-action:manipulation}.btn[_ngcontent-%COMP%]:active{background-color:#006ae8;transform:scale(.95)}.btn[_ngcontent-%COMP%]:hover{background-color:#1c84ff}.btn-regular[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #222222;border-radius:8px;box-sizing:border-box;color:#222;cursor:pointer;display:inline-block;font-size:16px;font-weight:600;line-height:20px;margin:0;outline:none;padding:13px 23px;position:relative;text-align:center;text-decoration:none;touch-action:manipulation;transition:box-shadow .2s,-ms-transform .1s,-webkit-transform .1s,transform .1s;user-select:none;-webkit-user-select:none;width:auto}.btn-regular[_ngcontent-%COMP%]:focus-visible{box-shadow:#222 0 0 0 2px,#fffc 0 0 0 4px;transition:box-shadow .2s}.btn-regular[_ngcontent-%COMP%]:active{background-color:#f7f7f7;border-color:#000;transform:scale(.95)}.btn-regular[_ngcontent-%COMP%]:disabled{border-color:#ddd;color:#ddd;cursor:not-allowed;opacity:1}"]})}}return c})();export{te as PetEditComponent};
